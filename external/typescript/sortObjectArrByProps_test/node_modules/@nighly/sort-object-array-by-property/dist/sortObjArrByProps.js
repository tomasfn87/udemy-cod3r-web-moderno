"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortObjectArrByProps=void 0;const getDeepPropValue_1=require("./getDeepPropValue"),sortObjectArrByProps=(e,r,t="s")=>{let p=[];for(let o of sortIndices(e,r,t))p.push(e[o]);return p};exports.sortObjectArrByProps=sortObjectArrByProps;const sortIndices=(e,r,t="s")=>{let p=[];if(t=t.toLowerCase(),Array.isArray(r)){for(let e of r)p.push("s");if(t.length>1)for(let e=0;e<t.length;e++)t[e]==="r".toLowerCase()&&(0,getDeepPropValue_1.hasOwnDeepProperty)(p,e)&&(p[e]="r");else if("r"===t)for(let e in p)p[e]="r"}else"r"==t[0]?p.push("r"):p.push("s");let o=getHighestValue(e,r),l=[],u=[];if(Array.isArray(r)){for(let r=0;r<e.length;r++)l.push([]),u.push(r);for(let t=0;t<e.length;t++)for(let p=0;p<r.length;p++)(0,getDeepPropValue_1.hasOwnDeepProperty)(e[t],r[p])?"string"==typeof(0,getDeepPropValue_1.getDeepPropValue)(e[t],r[p])||"number"==typeof(0,getDeepPropValue_1.getDeepPropValue)(e[t],r[p])?l[t].push((0,getDeepPropValue_1.getDeepPropValue)(e[t],r[p])):l[t].push((0,getDeepPropValue_1.getDeepPropValue)(e[t],r[p]).toString()):l[t].push(increment(o[p].value))}else e.forEach((e,t)=>{u.push(t),(0,getDeepPropValue_1.hasOwnDeepProperty)(e,r)?"string"==typeof(0,getDeepPropValue_1.getDeepPropValue)(e,r)||"number"==typeof(0,getDeepPropValue_1.getDeepPropValue)(e,r)?l.push((0,getDeepPropValue_1.getDeepPropValue)(e,r)):l.push((0,getDeepPropValue_1.getDeepPropValue)(e,r).toString()):l.push(increment(o[0].value))});if(Array.isArray(r)){let e=0;for(let t=1;t<l.length;t++)for(let o=0;o<l.length-t;)l[o][e]===l[o+1][e]?e===r.length-1?(e=0,o++):e++:l[o][e]>l[o+1][e]&&"s"===p[e]||l[o][e]<l[o+1][e]&&"r"===p[e]?([l[o],l[o+1]]=[l[o+1],l[o]],[u[o],u[o+1]]=[u[o+1],u[o]],e=0,o++):(e=0,o++)}else for(let e=1;e<l.length;e++)for(let r=0;r<l.length-e;r++)l[r]>l[r+1]&&([l[r],l[r+1]]=[l[r+1],l[r]],[u[r],u[r+1]]=[u[r+1],u[r]]);return Array.isArray(r)||"r"!==p[0]?u:u.reverse()},getHighestValue=(e,r)=>{let t=[];if(Array.isArray(r))for(let p=0;p<r.length;p++){t[p]={value:(0,getDeepPropValue_1.getDeepPropValue)(e[0],r[p]),type:typeof(0,getDeepPropValue_1.getDeepPropValue)(e[0],r[p])};for(let o=1;o<e.length;o++)((0,getDeepPropValue_1.getDeepPropValue)(e[o],r[p])&&!t[p].value||(0,getDeepPropValue_1.getDeepPropValue)(e[o],r[p])>t[p].value)&&(t[p].value=(0,getDeepPropValue_1.getDeepPropValue)(e[o],r[p]),t[p].type=typeof(0,getDeepPropValue_1.getDeepPropValue)(e[p],r[p]))}else{t[0]={value:(0,getDeepPropValue_1.getDeepPropValue)(e[0],r),type:typeof(0,getDeepPropValue_1.getDeepPropValue)(e[0],r)};for(let p=1;p<e.length;p++)((0,getDeepPropValue_1.getDeepPropValue)(e[p],r)&&!t[0].value||(0,getDeepPropValue_1.getDeepPropValue)(e[p],r)>t[0].value)&&(t[0].value=(0,getDeepPropValue_1.getDeepPropValue)(e[p],r),t[0].type=typeof(0,getDeepPropValue_1.getDeepPropValue)(e[p],r))}return t},greaterString=e=>{if(0===e.length)return"0";{const r=e.charCodeAt(0)+1;return`${String.fromCharCode(r)}`}},increment=e=>("boolean"==typeof e&&(e=e.toString()),"number"==typeof e?e+1:"string"==typeof e?greaterString(e):void 0);